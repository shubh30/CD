{"version":3,"sources":["components/CollegeCard.js","components/CollegeCardLoading.js","services/API.js","CollegeList.js","hooks/useCollegeListPagination.js","App.js","index.js"],"names":["CollegeCard","detail","reference","tags","rating","ranking","promoted","amenties","discount","offertext","fees_cycle","college_name","nearest_place","original_fees","rating_remarks","discounted_fees","famous_nearest_places","className","ref","alt","src","map","tag","i","key","Array","e","Icon","color","path","mdiStar","size","dangerouslySetInnerHTML","__html","match","reduce","accumulator","value","replace","matches","console","log","getOffer","toLocaleString","join","React","forwardRef","props","CollegeCardLoading","getColleges","pageNumber","limit","Promise","resolve","reject","offset","setTimeout","hasNext","colleges","length","slice","err","CollegeList","useState","setPageNumber","loading","setLoading","setColleges","setHasNext","useEffect","a","respCollges","useCollegeListPagination","observer","useRef","lastCollegeCardRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","lastPageNumber","observe","college","index","createElement","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f7887554.chunk.js","sourcesContent":["import React from 'react';\r\nimport { mdiStar } from '@mdi/js';\r\nimport { Icon } from '@mdi/react';\r\n\r\nimport './CollegeCard.css';\r\n\r\nfunction CollegeCard({ detail, reference }) {\r\n  const {\r\n    tags,\r\n    rating,\r\n    ranking,\r\n    promoted,\r\n    amenties,\r\n    discount,\r\n    offertext,\r\n    fees_cycle,\r\n    college_name,\r\n    nearest_place,\r\n    original_fees,\r\n    rating_remarks,\r\n    discounted_fees,\r\n    famous_nearest_places,\r\n  } = detail;\r\n\r\n  // Get famous nearest places and render values different from famous_nearest_places[]\r\n  function getNearestFamous() {\r\n    const matches = famous_nearest_places.match(/(\\d+\\.?\\d*) *(kms?|Kms?)/g);\r\n    // console.log(matches);\r\n    return matches.reduce(\r\n      (accumulator, value) =>\r\n        accumulator.replace(\r\n          value,\r\n          `<span class=\"college-card__nearest--bold\">${value}</span>`\r\n        ),\r\n      famous_nearest_places\r\n    );\r\n  }\r\n\r\n  // get offers from offertext[] and render numeric values different\r\n  function getOffer() {\r\n    const matches = offertext.match(/\\d+(,\\d+)*(\\.\\d*)?/g);\r\n    console.log(matches);\r\n    return matches\r\n      .reduce(\r\n        (accumulator, value) =>\r\n          accumulator.replace(\r\n            value,\r\n            `<span class=\"college-card__offer--green\">${value}</span>`\r\n          ),\r\n        offertext\r\n      )\r\n      .replace('Flat', \"<span class='college-card__offer--muted'>Flat</span>\")\r\n      .replace(\r\n        'LOGIN',\r\n        \"<span class='college-card__offer--button'>LOGIN</span>\"\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className=\"college-card\" ref={reference}>\r\n      <div className=\"college-card__image\">\r\n        <img alt=\"college\" src=\"images/college_02.jpg\" />\r\n        <div className=\"college-card__image-item\">\r\n          <div className=\"college-card__tag-group d-flex align-center\">\r\n            {/* Map all the tags */}\r\n            {tags.map((tag, i) => (\r\n              <div key={i} className=\"college-card__tag thin-text bold-text\">\r\n                {tag}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"college-card__ranking light-text bold-text\">\r\n            #{ranking}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Conditional Rendering */}\r\n      {promoted ? <div className=\"college-card__ribbon\">promoted</div> : null}\r\n      {promoted ? <div className=\"college-card__ribbon--shadow\" /> : null}\r\n      <div className=\"college-card__remarks\">\r\n        <div className=\"college-card__remarks__text\">\r\n          <div>\r\n            <span className=\"college-card__remarks__text--bold\">{rating}</span>\r\n            /5\r\n          </div>\r\n          <div>{rating_remarks}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"college-card__details d-flex\">\r\n        <div className=\"college-card__details__general\">\r\n          <div className=\"college-card__name-wrapper bold-text\">\r\n            <span className=\"college-card__name\">{college_name}</span>\r\n            <span className=\"college-card__star-group\">\r\n              {/* Render start rating */}\r\n              {[...Array(5)].map((e, i) => (\r\n                <Icon\r\n                  color={i < rating ? '#444444' : '#adadad'}\r\n                  path={mdiStar}\r\n                  size={0.52}\r\n                  key={i}\r\n                />\r\n              ))}\r\n            </span>\r\n          </div>\r\n          <div className=\"college-card__nearest thin-text bold-text\">\r\n            <span className=\"college-card__nearest-bold\">\r\n              {nearest_place[0]}\r\n            </span>\r\n            <span className=\"college-card__nearest-muted\">\r\n              {' | '}\r\n              {nearest_place[1]}\r\n            </span>\r\n          </div>\r\n          <div className=\"college-card__nearest-famous thin-text bold-text\">\r\n            <span className=\"college-card__nearest-match\">93% Match: </span>\r\n            <span\r\n              dangerouslySetInnerHTML={{ __html: getNearestFamous() }}\r\n            ></span>\r\n          </div>\r\n          <div className=\"college-card__offer-ribbon thin-text bold-text\">\r\n            <span dangerouslySetInnerHTML={{ __html: getOffer() }}></span>\r\n          </div>\r\n        </div>\r\n        <div className=\"college-card__details__price\">\r\n          <div className=\"college-card__discount-wrapper d-flex align-center thin-text\">\r\n            <div className=\"college-card__original-fees thin-text\">\r\n              ₹{original_fees.toLocaleString()}\r\n            </div>\r\n            <div className=\"college-card__discount\">\r\n              {discount}\r\n              <div className=\"college-card__discount-dot\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"college-card__discount-fees bold-text\">\r\n            ₹{discounted_fees.toLocaleString()}\r\n          </div>\r\n          <div className=\"college-card__fees-cycle thin-text\">{fees_cycle}</div>\r\n          <div className=\"college-card__amenties light-text bold-text\">\r\n            {amenties.join('  ·  ')}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => (\r\n  <CollegeCard {...props} reference={ref} />\r\n));","import React from \"react\";\r\n\r\nimport \"./CollegeCard.css\";\r\n\r\nexport default function CollegeCardLoading() {\r\n  return (\r\n    <div className=\"college-card__loading-wrapper\">\r\n      <div className=\"college-card__loading loading-image\" />\r\n      <div className=\"college-card__loading-text\">\r\n        <div className=\"college-card__loading loading-title\" />\r\n        <div className=\"college-card__loading loading-subtitle\" />\r\n        <div className=\"college-card__loading loading-subtitle\" />\r\n        <div className=\"college-card__loading loading-ribbon\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { colleges } from '../assets/colleges.json';\r\n\r\nexport const getColleges = (pageNumber = 1, limit = 10) => {\r\n  return new Promise((resolve, reject) => {\r\n    const offset = (pageNumber - 1) * limit;\r\n    setTimeout(() => {\r\n      try {\r\n        resolve({\r\n          hasNext: colleges.length > offset + limit,\r\n          colleges: colleges.slice(offset, offset + limit),\r\n        });\r\n      } catch (err) {\r\n        reject(err);\r\n      }\r\n    }, 1000);\r\n  });\r\n};\r\n","import React, { createElement, useState, useRef, useCallback } from 'react';\r\nimport './CollegeList.css';\r\nimport { CollegeCard, CollegeCardLoading } from './components';\r\nimport useCollegeListPagination from './hooks/useCollegeListPagination';\r\n\r\nfunction CollegeList() {\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n\r\n  const { colleges, loading, hasNext, length } = useCollegeListPagination(\r\n    pageNumber\r\n  );\r\n\r\n  const observer = useRef();\r\n\r\n  // Render Last Card\r\n  const lastCollegeCardRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasNext) {\r\n          setPageNumber((lastPageNumber) => lastPageNumber + 1);\r\n        }\r\n      });\r\n\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading, hasNext]\r\n  );\r\n\r\n  return (\r\n    <div className=\"college-list\">\r\n      <div className=\"college-list__title\">Colleges in North India</div>\r\n      <div className=\"college-list__items\">\r\n        {/* Map details from API into each card */}\r\n        {colleges.map((college, index) =>\r\n          createElement(CollegeCard, {\r\n            ref: (ref) => index === length - 1 && lastCollegeCardRef(ref),\r\n            detail: college,\r\n            key: index,\r\n          })\r\n        )}\r\n        {/* Loading 4 college cards */}\r\n        {loading && [...Array(4)].map((e, i) => <CollegeCardLoading key={i} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CollegeList;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { getColleges } from '../services';\r\n\r\nexport default function useCollegeListPagination(pageNumber) {\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [colleges, setColleges] = useState([]);\r\n  const [hasNext, setHasNext] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    (async function fetchColleges() {\r\n      try {\r\n        const { colleges: respCollges, hasNext } = await getColleges(\r\n          pageNumber\r\n        );\r\n        setColleges((colleges) => [...colleges, ...respCollges]);\r\n        setHasNext(hasNext);\r\n      } catch (err) {\r\n        setColleges([]);\r\n        setHasNext(true);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [pageNumber]);\r\n\r\n  return { loading, hasNext, colleges, length: colleges.length };\r\n}\r\n","import React from 'react';\nimport CollegeList from './CollegeList';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* List Component to show all college cards */}\n      <CollegeList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}